# 7. 테스트

## 테스트 코드

### 자동화된테스트 회귀 테스트 안정감

크고 복잡한 시스템에서는 수정한 코드가 어디에 어떤 영향을 줄지 완벽하게 분석하기란 불가능에 가깝다

테스트 코드가 없는 조직은 코드를 수정한 뒤에 일부 기능에 대한 수동 테스트를 진행한다.
별도의 QA조직이 있다면 좀 더 많은 기능을 여러 조건에서 테스트한다.

테스트를 수작업으로 진행하면 다양한 경우의 수를 확인하기 어렵다. 
하지만 자동으로 실행할 수 있는 테스트 코드가 있다면 수정한 코드가 발생시키는 문제를 빨리 찾을 수 있다.

테스트 커버리지가 높다고 모든 문제를 완벽하게 없앨 수는 없다. 하지만 적어도 테스트를 통과한 코드는 문제가 없다는 것을 확신할 수 있다.


### 테스트 주도 개발과 회귀 테스트

 테스트 코드 작성 -> 구현(테스트 통과) -> 코드 정리(리팩터링)
 의 과정을 반복한다.
 예외적인 상황에서의 테스트를 먼저 작성하고 그 다음 정상적인 상황에서의 테스트를 작성하는게 좋다.

### 테스트 주도 개발과 설계

 TDD가 기능을 설계하는데 도움을 준다.
 테스트 코드에서 테스트할 대상의 기능을 실행하려면 다음과 같은 것을 정해야 한다.
 - 클래스 (타입) 이름
 - 메서드 이름
 - 메서드 파라미터 타입
 - 리턴 타입(익셉션 타입)
 - 의존 대상, 역할

### 테스트 주도 개발과 생산성

 전체적인 개발 관점에서 바라보면 테스트 코드를 작성하는 편이 생산성이 더 높다.
 개발 시간: 코드 작성 + 테스트 + 디버깅

----
## 테스트 가능성

 코드를 만들 때, 테스트 가능성을 염두에 두면 개발 생산성과 설계 품질을 높일 수 있다.

---
## 리팩터링을 위한 테스트 작성하기

리팩터링을 할 떄는 리팩터링 전과 후의 코드가 동일하게 동작하는지 보장할 수 있어야 한다.
그러기 위해 리팩터링 전에 테스트 코드를 먼저 작성해야 한다. 거대한 클래스에서 특정 부분만 리팩터링 하고 싶은 경우,
특정 부분에 대한 로직을 별도의 타입으로 분리한 다음에 테스트를 작성해야 한다. 테스트를 작성한 이후 리팩터링을 진행한다.

테스트 코드 없이 기존 코드를 먼저 수정하면 부담이 커진다. 하지만 일부 코드를 분리하고 테스트 코드를 만들어 낼 수 있다면 과감하게 시도할 필요가 있다.



